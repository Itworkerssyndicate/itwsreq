<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بوابة الخدمات</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body oncontextmenu="return false;">
    <div id="download-card" style="background:#fff; color:#000; padding:30px; text-align:center; position:fixed; left:-9999px; width:400px; border:3px solid #00d2ff;">
        <img src="https://i.ibb.co/vzPRTfK/image-8999a2.png" width="80">
        <h2>نقابة تكنولوجيا المعلومات</h2>
        <h1 id="card-ref" style="color:#3a7bd5; margin:15px 0;"></h1>
        <h3 id="card-name"></h3>
        <p id="card-date"></p>
    </div>

    <div class="container">
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="https://i.ibb.co/vzPRTfK/image-8999a2.png" width="60">
            <h2 id="pres-display" style="font-size: 1.2rem; color:#00d2ff;">جاري التحميل...</h2>
        </div>

        <div style="display:flex; gap:8px; margin-bottom:20px;">
            <button class="main-btn" onclick="showTab('submit')">تقديم طلب</button>
            <button class="main-btn" onclick="showTab('track')" style="background:#1e293b;">استعلام</button>
            <button class="main-btn" onclick="showTab('login')" style="background:#1e293b; width:60px;"><i class="fas fa-lock"></i></button>
        </div>

        <div id="tab-submit">
            <input type="text" id="u-name" placeholder="الاسم الرباعي">
            <input type="number" id="u-nid" placeholder="الرقم القومي (14 رقم)">
            <input type="number" id="u-phone" placeholder="رقم الهاتف">
            <select id="u-gov"><option>القاهرة</option><option>الجيزة</option><option>الإسكندرية</option><option>الدقهلية</option></select>
            <input type="text" id="u-address" placeholder="العنوان بالتفصيل">
            <select id="u-type"><option value="شكوى">شكوى</option><option value="اقتراح">اقتراح</option></select>
            <textarea id="u-details" rows="3" placeholder="تفاصيل الطلب"></textarea>
            <button class="main-btn" onclick="submitRequest()">إرسال الطلب وحفظ الوصل</button>
        </div>

        <div id="tab-track" style="display:none;">
            <input type="number" id="s-nid" placeholder="الرقم القومي">
            <input type="text" id="s-ref" placeholder="كود الطلب (السنة/الرقم)">
            <button class="main-btn" onclick="searchRequest()">بحث عن الحالة</button>
            <div id="track-res" style="margin-top:20px;"></div>
        </div>

        <div id="tab-login" style="display:none;">
            <input type="password" id="adm-p" placeholder="كلمة مرور الإدارة">
            <button class="main-btn" onclick="loginAdmin()">دخول</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="app.js"></script>
    <script>function showTab(t){['submit','track','login'].forEach(x=>document.getElementById('tab-'+x).style.display=(x==t?'block':'none'));}</script>
</body>
</html>
