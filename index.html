<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>بوابة نقابة تكنولوجيا المعلومات</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <div class="container">
        <div class="header-section">
            <a id="services-link" href="#" target="_blank"><i class="fas fa-external-link-alt"></i> موقع الخدمات</a>
            <img id="union-logo" src="">
            <h2 id="union-name">...</h2>
            <div class="pres-box">
                <span class="pres-label">النقيب العام</span>
                <span id="president-name">...</span>
            </div>
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 25px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 15px;">
            <button onclick="switchTab('submit')" class="main-btn" id="btn-submit" style="margin:0; flex:1; background:var(--primary); color:black;">تقديم طلب</button>
            <button onclick="switchTab('track')" class="main-btn" id="btn-track" style="margin:0; flex:1; background:transparent;">الاستعلام</button>
            <button onclick="switchTab('login')" class="main-btn" id="btn-login" style="margin:0; flex:1; background:transparent;">الإدارة</button>
        </div>

        <div id="view-submit">
            <div class="grid">
                <div><label>الاسم الرباعي *</label><input type="text" id="u-name"></div>
                <div><label>الرقم القومي (14 رقم) *</label><input type="number" id="u-nid"></div>
            </div>
            <div class="grid">
                <div><label>رقم التليفون *</label><input type="number" id="u-phone"></div>
                <div><label>المحافظة *</label><select id="u-gov"><option value="">اختر..</option><option value="القاهرة">القاهرة</option><option value="الجيزة">الجيزة</option><option value="الإسكندرية">الإسكندرية</option></select></div>
            </div>
            <div class="grid">
                <div><label>المهنة الحالية *</label><input type="text" id="u-job"></div>
                <div><label>نوع الطلب *</label><select id="u-type"><option value="complaint">شكوى</option><option value="suggestion">اقتراح</option></select></div>
            </div>
            <label>العنوان بالتفصيل *</label><input type="text" id="u-address">
            <label>الموضوع *</label><textarea id="u-details" rows="3"></textarea>
            <button class="main-btn" onclick="submitRequest()">إرسال الطلب</button>
        </div>

        <div id="view-track" style="display:none;">
            <div class="grid"><select id="s-type"><option value="complaint">شكوى</option><option value="suggestion">اقتراح</option></select><input type="number" id="s-nid" placeholder="الرقم القومي"></div>
            <input type="text" id="s-ref" placeholder="رقم الطلب (مثال: ITW-1234-2026)" style="margin-top:10px;">
            <button class="main-btn" onclick="searchRequest()">بدء البحث</button>
            <div id="track-res"></div>
        </div>

        <div id="view-login" style="display:none;">
            <label>اسم المستخدم</label><input type="text" id="adm-u">
            <label>كلمة السر</label><input type="password" id="adm-p">
            <button class="main-btn" onclick="loginAdmin()">دخول</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="app.js"></script>
    <script>
        function switchTab(v){
            ['submit','track','login'].forEach(x=>{
                document.getElementById('view-'+x).style.display=(x==v?'block':'none');
            });
        }
    </script>
</body>
</html>
