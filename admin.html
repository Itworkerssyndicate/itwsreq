<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>لوحة التحكم الإدارية</title>
    <link rel="stylesheet" href="style.css">
    <script>if(!sessionStorage.getItem("isAdmin")) window.location.replace("index.html");</script>
</head>
<body class="admin-layout">
    <aside class="sidebar">
        <h2 style="color:var(--primary); margin-bottom:30px; text-align:center;">الإدارة الذكية</h2>
        <button class="side-link active" onclick="loadView('all', this)">كل الطلبات</button>
        <button class="side-link" onclick="loadView('شكوى', this)">الشكاوى</button>
        <button class="side-link" onclick="loadView('اقتراح', this)">المقترحات</button>
        <button class="side-link" onclick="showSettings()">الإعدادات</button>
        <button class="logout" onclick="sessionStorage.clear(); window.location.replace('index.html')">تسجيل الخروج</button>
    </aside>

    <main class="admin-main">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
            <h2 id="view-title">السجلات الشاملة</h2>
            <button class="submit-btn" style="width:auto; margin:0;" onclick="window.print()">طباعة السجل</button>
        </div>
        <table>
            <thead><tr><th>التاريخ</th><th>الكود</th><th>الاسم</th><th>النوع</th><th>الحالة</th><th>إدارة</th></tr></thead>
            <tbody id="tbody"></tbody>
        </table>
    </main>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="admin_logic.js"></script>
</body>
</html>
